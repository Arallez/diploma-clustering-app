{% extends 'base.html' %}
{% load static %}

{% block title %}–ó–∞–¥–∞–Ω–∏—è{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/simulator.css' %}">
<link rel="stylesheet" href="{% static 'css/tasks.css' %}">
{% endblock %}

{% block content %}
<div class="page-wrapper">
  <!-- Navbar removed - handled by base.html -->

  <div class="tasks-page">
    <header class="tasks-header">
      <h1 class="tasks-title">üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è</h1>
    </header>

    {% regroup tasks by algorithm as algorithm_groups %}
    {% for group in algorithm_groups %}
      <div class="algorithm-section">
        <h2 class="algorithm-title">
          {% if group.grouper == 'general' %}üìö –û–±—â–∏–µ –∑–Ω–∞–Ω–∏—è
          {% elif group.grouper == 'kmeans' %}üîµ K-Means
          {% elif group.grouper == 'dbscan' %}üî¥ DBSCAN
          {% elif group.grouper == 'hierarchical' %}üå≥ –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è
          {% else %}{{ group.grouper }}
          {% endif %}
        </h2>
        <div class="tasks-grid">
          {% for task in group.list %}
          <a href="{% url 'simulator:challenge_detail' task.slug %}" class="task-card">
            <div class="task-badge difficulty-{{ task.difficulty }}">
              {% if task.difficulty == 1 %}‚≠ê Easy
              {% elif task.difficulty == 2 %}‚≠ê‚≠ê Medium
              {% else %}‚≠ê‚≠ê‚≠ê Hard
              {% endif %}
            </div>
            <div class="task-card-title">{{ task.title }}</div>
            <div class="task-card-desc">{{ task.description|striptags|truncatewords:15 }}</div>
          </a>
          {% endfor %}
        </div>
      </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
